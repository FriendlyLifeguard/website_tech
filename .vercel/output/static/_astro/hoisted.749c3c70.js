function q(o,e){o.classList.toggle(e)}let S,y,p=!1;function k(){q(S,"menu-open"),p=!p,y.setAttribute("aria-expanded",p.toString())}document.addEventListener("DOMContentLoaded",()=>{S=document.getElementById("main-header"),y=document.getElementById("toggle-navigation-menu"),y.addEventListener("click",k)});document.addEventListener("astro:after-swap",()=>{p&&k()});const h=o=>history.replaceState(o,""),L=!!document.startViewTransition,g=()=>!!document.querySelector('[name="astro-view-transitions-enabled"]'),A=o=>document.dispatchEvent(new Event(o)),T=()=>A("astro:page-load"),m="data-astro-transition-persist";let f=history.state?.index||0;!history.state&&g()&&h({index:f,scrollY:0});const C=(o,e)=>{let t=!1,n=!1;return(...c)=>{if(t){n=!0;return}o(...c),t=!0,setTimeout(()=>{n&&(n=!1,o(...c)),t=!1},e)}};async function I(o){const e=await fetch(o),t=await e.text();return{ok:e.ok,html:t}}function x(){const o=document.querySelector('[name="astro-view-transitions-fallback"]');return o?o.getAttribute("content"):"animate"}function P(){for(const o of document.scripts)o.dataset.astroExec=""}function M(){let o=Promise.resolve();for(const e of Array.from(document.scripts)){if(e.dataset.astroExec==="")continue;const t=document.createElement("script");t.innerHTML=e.innerHTML;for(const n of e.attributes){if(n.name==="src"){const c=new Promise(i=>{t.onload=i});o=o.then(()=>c)}t.setAttribute(n.name,n.value)}t.dataset.astroExec="",e.replaceWith(t)}return o}function _(o){const e=o.effect;return!e||!(e instanceof KeyframeEffect)||!e.target?!1:window.getComputedStyle(e.target,e.pseudoElement).animationIterationCount==="infinite"}const R=new DOMParser;async function w(o,e,t){const n=R.parseFromString(o,"text/html"),c=l=>{const a=l.getAttribute(m),d=a&&n.head.querySelector(`[${m}="${a}"]`);if(d)return d;if(l.matches("link[rel=stylesheet]")){const r=l.getAttribute("href");return n.head.querySelector(`link[rel=stylesheet][href="${r}"]`)}if(l.tagName==="SCRIPT"){let r=l;for(const s of n.scripts)if(r.textContent&&r.textContent===s.textContent||r.type===s.type&&r.src===s.src)return s}return null},i=()=>{n.querySelectorAll("head noscript").forEach(r=>r.remove());const l=document.documentElement,a=[...l.attributes].filter(({name:r})=>(l.removeAttribute(r),r.startsWith("data-astro-")));[...n.documentElement.attributes,...a].forEach(({name:r,value:s})=>l.setAttribute(r,s));for(const r of Array.from(document.head.children)){const s=c(r);s?s.remove():r.remove()}document.head.append(...n.head.children);const d=document.body;document.body.replaceWith(n.body);for(const r of d.querySelectorAll(`[${m}]`)){const s=r.getAttribute(m),E=document.querySelector(`[${m}="${s}"]`);E&&E.replaceWith(r)}if(scrollTo({left:0,top:0,behavior:"instant"}),e?.scrollY===0&&location.hash){const r=decodeURIComponent(location.hash.slice(1)),s=document.getElementById(r);s&&(e.scrollY=s.offsetTop,h(e),s.scrollIntoView())}else e&&e.scrollY!==0&&scrollTo(0,e.scrollY);A("astro:after-swap")},u=[];for(const l of n.querySelectorAll("head link[rel=stylesheet]"))if(!document.querySelector(`[${m}="${l.getAttribute(m)}"], link[rel=stylesheet]`)){const a=document.createElement("link");a.setAttribute("rel","preload"),a.setAttribute("as","style"),a.setAttribute("href",l.getAttribute("href")),u.push(new Promise(d=>{["load","error"].forEach(r=>a.addEventListener(r,d)),document.head.append(a)}))}if(u.length&&await Promise.all(u),t==="animate"){const l=document.getAnimations();document.documentElement.dataset.astroTransitionFallback="old";const a=document.getAnimations().filter(s=>!l.includes(s)&&!_(s)),d=Promise.all(a.map(s=>s.finished)),r=()=>{i(),document.documentElement.dataset.astroTransitionFallback="new"};await d,r()}else i()}async function b(o,e,t){let n;const{html:c,ok:i}=await I(e);if(!i){location.href=e;return}document.documentElement.dataset.astroTransition=o,L?n=document.startViewTransition(()=>w(c,t)).finished:n=w(c,t,x());try{await n}finally{await M(),P(),T()}}function $(o){if(document.querySelector(`link[rel=prefetch][href="${o}"]`))return;if(navigator.connection){let t=navigator.connection;if(t.saveData||/(2|3)g/.test(t.effectiveType||""))return}let e=document.createElement("link");e.setAttribute("rel","prefetch"),e.setAttribute("href",o),document.head.append(e)}if(L||x()!=="none"){P(),document.addEventListener("click",e=>{let t=e.target;if(t instanceof Element&&t.tagName!=="A"&&(t=t.closest("a")),!t||!(t instanceof HTMLAnchorElement)||t.dataset.astroReload!==void 0||t.hasAttribute("download")||!t.href||t.target&&t.target!=="_self"||t.origin!==location.origin||e.button!==0||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||e.defaultPrevented||!g())return;if(location.pathname===t.pathname&&location.search===t.search){if(t.hash)return;if(e.preventDefault(),h({...history.state,scrollY}),scrollTo({left:0,top:0,behavior:"instant"}),location.hash){const c={index:++f,scrollY:0};history.pushState(c,"",t.href)}return}e.preventDefault(),b("forward",t.href,{index:++f,scrollY:0});const n={index:f,scrollY};h({index:f-1,scrollY}),history.pushState(n,"",t.href)}),addEventListener("popstate",e=>{if(!g()&&e.state){location.reload();return}if(e.state===null){history.scrollRestoration&&(history.scrollRestoration="auto");return}history.scrollRestoration&&(history.scrollRestoration="manual");const t=history.state,n=t?.index??f+1,c=n>f?"forward":"back";b(c,location.href,t),f=n}),["mouseenter","touchstart","focus"].forEach(e=>{document.addEventListener(e,t=>{if(t.target instanceof HTMLAnchorElement){let n=t.target;n.origin===location.origin&&n.pathname!==location.pathname&&g()&&$(n.pathname)}},{passive:!0,capture:!0})}),addEventListener("load",T);const o=()=>{history.state&&h({...history.state,scrollY})};"onscrollend"in window?addEventListener("scrollend",o):addEventListener("scroll",C(o,300))}class B extends HTMLElement{constructor(){super();const e=this.querySelector("button");e&&e.addEventListener("click",t=>{if(t.currentTarget instanceof HTMLButtonElement){let n=t.currentTarget.getAttribute("aria-pressed")==="true",c=new CustomEvent("theme-change",{detail:{theme:n?"light":"dark"}});document.dispatchEvent(c),e.setAttribute("aria-pressed",String(!n))}})}}customElements.define("theme-toggle",B);const Y="modulepreload",H=function(o){return"/"+o},v={},D=function(e,t,n){if(!t||t.length===0)return e();const c=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=H(i),i in v)return;v[i]=!0;const u=i.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(!!n)for(let r=c.length-1;r>=0;r--){const s=c[r];if(s.href===i&&(!u||s.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Y,u||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),u)return new Promise((r,s)=>{d.addEventListener("load",r),d.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i})};class O extends HTMLElement{constructor(){super();const e=this.querySelector("button[data-open-modal]"),t=this.querySelector("button[data-close-modal]"),n=this.querySelector("dialog"),c=this.querySelector(".dialog-frame"),i=a=>{document.body.contains(a.target)&&!c.contains(a.target)&&l()},u=a=>{n.showModal(),this.querySelector("input")?.focus(),a?.stopPropagation(),window.addEventListener("click",i)},l=()=>{n.open&&(n.close(),window.removeEventListener("click",i))};e.addEventListener("click",u),e.disabled=!1,t.addEventListener("click",l),window.addEventListener("keydown",a=>{a.key==="/"&&!n.open&&(u(),a.preventDefault())}),window.addEventListener("DOMContentLoaded",()=>{(window.requestIdleCallback||(d=>setTimeout(d,1)))(async()=>{const{PagefindUI:d}=await D(()=>import("./ui-core.3f035b83.js"),[]);new d({element:"#cactus__search",baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/_pagefind/",showImages:!1})})}),document.addEventListener("astro:after-swap",()=>{document.querySelector(".pagefind-ui__search-clear")?.click(),l()})}}customElements.define("site-search",O);export{D as _};
